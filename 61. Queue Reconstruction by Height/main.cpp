#include "test_runner.h"
#include "profile.h"
#include <algorithm>
#include <unordered_map>
#include <list>
using namespace std;

class Solution {
public:
	vector<vector<int>> reconstructQueue(vector<vector<int>>& people) {
		//vector<vector<int>> answer; answer.reserve(people.size());
		
		/*auto it = partition(people.begin(), people.end(), [](vector<int> & lhs){return lhs[1]==0;});
		sort(people.begin(), it, [](vector<int> & lhs, vector<int> & rhs){return lhs[0]<rhs[0];});
		if (it==people.end()) return answer;//Если только люди, перед которыми стоит 0 человек*/
		sort(people.begin(), people.end(), [](vector<int> & lhs, vector<int> & rhs){
			if (lhs[1]!=rhs[1])
				return lhs[1]<rhs[1];
			else
				return lhs[0]<rhs[0];
			});
			
		list<vector<int>> list_answer;//(people.begin(), it);
		/*{
			cout<<"List: {";bool isFirst = true;
			for (auto t:list_answer){
				if (!isFirst)
					cout<<",";
				else
					isFirst = false;
				cout<<t;
			}	cout<<"}"<<endl;
		}*/
		
		for (int i=0; i<people.size(); i++){
			if (people[i][1]==0){
				list_answer.push_back(move(people[i]));
				//list_answer.insert(list_answer.begin(),people[i]);
			} else {
				unordered_map<int, int> m;//Текущий рост и его количество
				bool begin_found = false;//, end_found = false;
				auto insert_before_it = list_answer.end();
				auto it = list_answer.begin();//list_answer[j] -> (*it)
				for (int j=0; j<list_answer.size(); j++){
					if (!begin_found){
						m[(*it)[0]]++;
						//Если начало не найдено, проверяем, подходит ли по map'е элемент к текущему месту
						if (howMushIsTheGish(m, people[i][0])==people[i][1]){//Если количество совпадает
							insert_before_it = next(it);//insert_after = j;
							begin_found = true;
							m[people[i][0]]++;
						}
					} else {
						
						//Если начало найдено, может оказаться, что надо вставлять правее
						//Сравнивать стоит только для роста
						if (people[i][0] >= (*it)[0]){
							if (howMushIsTheGish(m, (*it)[0])!=(*it)[1]){
								insert_before_it = next(it);//insert_after = j;
							}
						}
						m[(*it)[0]]++;
					}
					it = next(it);
				}
				list_answer.insert(insert_before_it,move(people[i]));
			}
		}

		/*
		for (auto & t : list_answer){
			answer.push_back(move(t));
		}*/
		return {list_answer.begin(), list_answer.end()};//answer;
	}
private:
	int howMushIsTheGish(unordered_map<int, int>& m, int height){
		int answer = 0;
		for (auto & c : m){
			if (c.first>=height)
				answer+=c.second;
		}
		return answer;
	}
};

int main() {
	
	{
		vector<vector<int>> people = {{7,0}, {4,4}, {7,1}, {5,0}, {6,1}, {5,2}};
		cout<<"people:"<<people<<endl;
		vector<vector<int>> answer = {{5,0}, {7,0}, {5,2}, {6,1}, {4,4}, {7,1}};
		auto real_answer = Solution().reconstructQueue(people);
		cout<<"Answers:"<<endl<<real_answer<<endl<<answer<<endl<<endl;
		cout<<"people_after:"<<people<<endl;
		//ASSERT_EQUAL(real_answer, answer);
	}
	
	{
		LOG_DURATION("27 / 37 test case");//3250 ms -> 2190 ms
		vector<vector<int>> people = {{433890,533},{789528,83},{301039,321},{576335,191},{530126,305},{829204,115},{952926,17},{202254,705},{825171,129},{313750,62},{554010,357},{53144,467},{217462,484},{576590,346},{14412,540},{747796,38},{152433,745},{327814,461},{152274,481},{387090,440},{390179,517},{900973,32},{679262,241},{110991,736},{450907,442},{895436,55},{754552,219},{673168,161},{530019,76},{903682,79},{903881,31},{565100,221},{575579,155},{755590,52},{465782,15},{191309,738},{228794,471},{354340,157},{582338,251},{80154,827},{723058,7},{964443,8},{151432,158},{338082,156},{473730,131},{756970,114},{806355,99},{755629,106},{516649,6},{352298,235},{198987,462},{689126,282},{487770,286},{792350,35},{349250,476},{925433,41},{588954,387},{550551,380},{910253,40},{586708,103},{54081,330},{505236,315},{281936,134},{999170,0},{448566,527},{767057,187},{478042,24},{811305,44},{955939,16},{723506,103},{798898,149},{597488,70},{248626,198},{228023,401},{430639,533},{502215,228},{909610,44},{803074,118},{558440,61},{15720,859},{144500,404},{876982,83},{199759,535},{226057,413},{515797,388},{721120,186},{631233,214},{33002,616},{710097,29},{945082,42},{80928,857},{707556,121},{661237,69},{313563,620},{95060,87},{370163,178},{35021,604},{549797,185},{365084,188},{469786,125},{679292,111},{436840,122},{153275,161},{56856,532},{380595,543},{539390,266},{218004,303},{970072,15},{633074,212},{519218,289},{480570,61},{390868,243},{125849,503},{295499,160},{138722,762},{311705,234},{908538,41},{641892,314},{790417,110},{228444,98},{344818,141},{379107,187},{149314,505},{170337,780},{612399,40},{695788,28},{288819,267},{548899,123},{784812,123},{383303,256},{490027,8},{32172,306},{324176,433},{415775,404},{565421,411},{250774,748},{844822,94},{727088,167},{469841,99},{648518,193},{990364,1},{26304,437},{67917,202},{173109,704},{871137,86},{275856,131},{101360,835},{266761,372},{661313,26},{608872,160},{289383,0},{552805,287},{77888,519},{252715,628},{794583,169},{323875,580},{186593,571},{346619,88},{785147,166},{110294,627},{399134,520},{322404,143},{636915,2},{238046,333},{573793,85},{887343,38},{235379,495},{498338,277},{359231,392},{633417,213},{706887,83},{570492,54},{332231,570},{460008,502},{947468,19},{967637,12},{761152,94},{495343,237},{202362,10},{158660,246},{388027,270},{60910,894},{911340,28},{160379,323},{720504,122},{621269,346},{278611,176},{108581,335},{18456,36},{561041,336},{489114,428},{485054,317},{738097,32},{928577,62},{767868,147},{51528,136},{939811,23},{692777,1},{253414,338},{897490,94},{133069,31},{40743,472},{902021,44},{231011,158},{722604,182},{522071,438},{35325,608},{371155,232},{422090,170},{996658,3},{126505,61},{518944,179},{226340,124},{304789,511},{524566,253},{372260,352},{962600,10},{376348,149},{367818,414},{513926,10},{97487,793},{209933,658},{705403,25},{229320,204},{210498,334},{947386,29},{297539,78},{306710,495},{187190,245},{134047,678},{255763,158},{573317,53},{517721,145},{864819,49},{709859,51},{9097,937},{645630,121},{539848,353},{936784,31},{3033,425},{664370,17},{452551,108},{681095,91},{207672,288},{606042,141},{383426,12},{421993,219},{228458,451},{993368,2},{474762,362},{477084,41},{11017,697},{210012,80},{855542,48},{702305,21},{478179,359},{686248,130},{544918,292},{321801,173},{267605,188},{689685,212},{36029,185},{518808,189},{392735,581},{569917,94},{911899,25},{418418,178},{875640,98},{990415,8},{401947,366},{2245,155},{854538,36},{418657,539},{585795,194},{259470,165},{305153,494},{651476,304},{2904,207},{668363,190},{32460,430},{118606,188},{278050,325},{888228,26},{245830,592},{138377,606},{684278,237},{495994,182},{433483,362},{936987,15},{539862,278},{651434,39},{975266,18},{381494,530},{204916,435},{154259,341},{453826,269},{416931,556},{484421,24},{620483,210},{850543,93},{126087,846},{889618,105},{261796,468},{804310,161},{206725,183},{797369,43},{241888,731},{387677,454},{666328,220},{690368,130},{613073,268},{469911,343},{905385,37},{692685,184},{271232,578},{549676,46},{359211,483},{455306,88},{939507,18},{449291,390},{901474,22},{86990,399},{593093,263},{473788,218},{625210,112},{335821,534},{241873,44},{31536,633},{213258,214},{321648,287},{602726,202},{788355,107},{647283,254},{473416,136},{299904,451},{102829,448},{90032,805},{132133,369},{328205,345},{565984,140},{97467,99},{532036,117},{560997,414},{513970,302},{59426,798},{79296,809},{663950,205},{763920,72},{641421,5},{621703,294},{894428,29},{777856,29},{498976,478},{937732,27},{473059,297},{175011,32},{251746,324},{554098,264},{925857,5},{122573,627},{862806,111},{39021,615},{334471,386},{34945,555},{590930,359},{681,461},{418627,311},{885386,1},{947178,5},{669179,97},{305000,694},{174067,25},{505363,205},{65818,186},{252996,223},{343768,441},{626924,277},{651136,309},{360099,616},{811783,152},{302647,372},{898537,4},{423428,553},{222842,324},{101839,544},{907669,23},{596963,272},{308902,313},{811127,59},{811972,62},{602422,131},{449122,434},{193512,456},{3493,592},{172261,422},{755422,58},{235128,166},{806732,113},{56552,501},{290071,198},{755936,68},{679567,122},{504292,294},{282134,334},{60028,424},{462951,331},{152959,253},{575055,288},{816539,133},{104339,426},{645729,202},{178224,699},{698927,44},{466996,120},{689772,72},{145550,241},{593614,258},{425661,144},{277217,519},{772890,90},{238335,5},{140795,91},{653714,252},{89172,18},{569,497},{612902,48},{966189,11},{229904,261},{311131,598},{199181,712},{897763,1},{276965,105},{989683,9},{426815,525},{742698,192},{387981,174},{798315,8},{544919,19},{937457,49},{532290,234},{349614,331},{176229,33},{979802,0},{319301,221},{858699,68},{456682,326},{470124,101},{895151,57},{76376,767},{517445,137},{58109,793},{772757,122},{591281,337},{359415,553},{914653,61},{95820,833},{721860,101},{35217,553},{723618,148},{898506,87},{433452,151},{112297,794},{885238,65},{892921,24},{370347,482},{268980,42},{373743,118},{598382,376},{870460,64},{89368,891},{372555,615},{961393,1},{174232,420},{279207,465},{776091,10},{57522,734},{114613,188},{959708,9},{752506,188},{543921,195},{962504,13},{443376,163},{274570,685},{834481,23},{80308,908},{630443,278},{254586,107},{901063,68},{713773,75},{393584,59},{829150,57},{298490,158},{726651,238},{981776,7},{703135,7},{378130,446},{348094,74},{209441,97},{867621,57},{975407,6},{627321,266},{28067,831},{152040,658},{613202,153},{68977,835},{127828,215},{195746,203},{808933,50},{687483,267},{745691,162},{160269,689},{741222,89},{927335,54},{647625,124},{956429,0},{867269,53},{436873,319},{346228,219},{513929,16},{107205,513},{987743,5},{908235,20},{340713,241},{550253,293},{73850,332},{391521,367},{942590,24},{949908,22},{690613,119},{760492,2},{412924,153},{187516,522},{776787,172},{336503,488},{421244,379},{487131,135},{348142,246},{657199,95},{409117,293},{675105,198},{956042,21},{356728,521},{214677,413},{880226,85},{665123,9},{631491,220},{649157,151},{171692,397},{290596,535},{363368,103},{299708,628},{836610,138},{276121,141},{621729,30},{297278,701},{80967,685},{266748,334},{617505,87},{35568,239},{730690,124},{102747,729},{426808,54},{116466,272},{819582,11},{439214,304},{448036,224},{537764,81},{167637,229},{300925,499},{945053,45},{72641,906},{739299,92},{702567,5},{564285,380},{468858,108},{372661,453},{305624,188},{497281,36},{849958,66},{392292,292},{223205,311},{519125,194},{117276,77},{393740,370},{318776,144},{553541,212},{573622,99},{202900,397},{228398,747},{502954,113},{110699,535},{260289,364},{411898,456},{47641,530},{300606,395},{504794,216},{401255,193},{405989,499},{219756,249},{504234,245},{306640,254},{344234,502},{419805,420},{197314,748},{400346,419},{100545,69},{533149,431},{828202,66},{26272,785},{139932,778},{277685,658},{973813,17},{671338,263},{552528,421},{518157,275},{878206,47},{739668,71},{275569,435},{771559,171},{87764,161},{717988,126},{441500,104},{322532,513},{501962,439},{66601,102},{294892,309},{614769,142},{262754,295},{146081,749},{120709,118},{561886,230},{889744,76},{963981,18},{506582,451},{429689,77},{142618,137},{768825,182},{522325,452},{204346,433},{938701,48},{385644,138},{961682,15},{369633,458},{887982,100},{400657,572},{353895,55},{48829,139},{550270,257},{372231,392},{697697,133},{141723,692},{107722,843},{272379,560},{828993,97},{748720,185},{930886,0},{245975,340},{933681,40},{888574,73},{390358,313},{407971,283},{777560,129},{36159,447},{593499,253},{688209,115},{515334,392},{955081,35},{997301,2},{81,506},{377017,601},{189435,648},{322227,129},{917955,65},{179497,114},{747793,1},{653516,203},{503465,123},{377373,28},{909211,72},{967857,19},{356620,353},{82195,682},{395528,544},{660336,25},{27284,550},{543437,417},{764524,105},{893529,64},{884850,103},{388464,143},{709016,226},{528946,236},{166342,273},{826621,143},{165193,146},{801961,75},{453195,525},{180540,16},{455736,12},{726312,126},{292122,611},{819080,87},{859999,120},{85273,352},{5211,20},{541312,238},{370888,583},{209188,362},{21530,24},{560280,58},{740084,87},{845894,47},{999754,1},{77375,620},{178736,216},{486715,86},{894977,70},{658390,163},{953865,9},{966950,17},{495367,240},{12497,425},{618996,183},{722862,6},{32919,680},{558955,281},{799051,97},{133589,587},{964683,6},{66249,405},{915667,29},{132002,407},{801052,147},{62949,693},{44878,244},{233367,63},{723382,230},{744729,30},{367770,477},{235189,317},{41805,638},{355115,387},{781486,132},{580952,388},{539036,332},{746139,142},{515434,43},{613996,164},{451659,168},{122846,141},{526309,223},{502651,50},{53959,774},{110197,215},{160358,509},{20127,649},{89438,540},{704567,41},{757034,40},{518149,79},{495425,250},{121308,728},{872353,24},{806862,8},{423943,402},{898167,3},{594324,20},{140528,823},{945486,42},{89159,726},{92622,551},{89412,292},{804289,104},{31326,383},{514500,200},{613810,95},{770478,122},{308542,166},{590181,345},{590964,188},{208324,648},{918184,67},{899228,21},{591171,317},{519934,302},{522535,208},{803526,8},{858969,78},{648522,88},{765404,184},{639006,249},{805732,29},{402336,186},{256190,278},{690360,149},{272813,216},{984857,9},{346491,124},{610537,235},{636226,40},{686763,219},{714904,186},{37525,884},{44599,316},{250262,605},{858270,98},{335928,139},{909365,64},{332871,105},{268139,171},{982030,11},{512183,109},{273303,316},{994984,5},{238283,767},{947739,7},{19593,971},{326717,456},{247255,294},{416949,279},{575321,126},{258270,115},{60049,449},{230297,685},{631626,183},{821396,60},{508860,435},{755199,218},{796892,161},{648412,330},{493451,88},{363827,599},{192379,134},{655340,166},{245196,582},{368690,9},{591100,232},{311574,472},{196431,498},{740865,172},{127955,658},{538839,414},{406219,94},{547084,358},{413784,29},{414639,428},{563291,278},{100237,517},{517567,195},{756851,156},{544266,397},{634994,186},{454154,430},{442062,146},{903190,50},{260756,89},{28624,136},{490000,425},{457753,221},{796157,113},{228804,191},{109485,661},{108117,115},{783898,75},{595368,8},{898814,7},{935710,42},{409503,95},{668850,123},{740049,155},{806403,83},{211388,475},{725218,199},{384172,465},{491298,489},{696776,280},{836836,100},{958031,8},{392754,62},{533459,260},{148365,156},{700723,51},{218593,435},{703729,122},{433518,419},{634225,329},{333378,560},{720090,141},{667372,101},{520059,7},{897525,93},{906996,5},{698571,202},{754116,208},{990783,6},{280524,266},{887560,83},{588711,261},{59479,519},{992393,7},{443181,483},{289672,709},{445884,209},{366143,131},{575223,345},{903177,48},{789224,70},{124030,602},{999932,0},{974580,12},{475776,461},{316437,132},{66342,705},{785404,121},{806445,164},{905771,17},{697713,93},{327684,203},{806367,91},{262009,236},{895021,93},{58025,557},{218189,663},{554603,370},{710873,151},{23311,243},{759355,53},{376882,419},{413173,351},{724286,29},{745791,140},{949299,16},{886059,90},{319847,408},{698586,32},{55805,930},{636429,169},{243555,125},{336327,49},{926652,11},{830857,83},{215350,689},{408282,154},{634022,14},{319529,292},{794427,136},{734713,165},{33333,402},{388777,583},{890675,22},{614030,230},{103348,289},{696532,246},{79444,242},{467587,164},{220853,741},{43324,209},{670688,70},{307398,536},{241081,481},{616124,33},{575198,20},{566413,24},{684930,86},{73940,314},{963858,18},{617647,169},{735990,225},{960378,6},{712350,254},{571043,189},{325578,353},{419379,157},{90428,423},{247686,335},{466127,524},{250573,592},{247643,705},{420925,43},{324914,125},{742587,214},{516127,218},{760235,147},{639529,75},{669086,286},{622954,281},{499336,179},{750846,16},{298285,333},{759956,12},{205057,498},{322197,671},{794395,39},{799631,98},{810563,105},{171087,73},{894018,74},{826607,92},{344043,60},{311776,558}};
		//cout<<"people:"<<people<<endl;
		//vector<vector<int>> answer = {{5,0}, {7,0}, {5,2}, {6,1}, {4,4}, {7,1}};
		auto real_answer = Solution().reconstructQueue(people);
		//cout<<"Answers:"<<endl<<real_answer<<endl<<answer<<endl<<endl;
		//cout<<"people_after:"<<people<<endl;
		//ASSERT_EQUAL(real_answer, answer);
	}
	
	{
		LOG_DURATION("28 / 37 test case");//2120 ms
		vector<vector<int>> people = {{782719,59},{97218,426},{285314,349},{537945,87},{205108,277},{669440,115},{71006,459},{425834,108},{343058,318},{574882,156},{606628,150},{693054,248},{208466,592},{449833,213},{185160,115},{967250,11},{745488,220},{567089,184},{419369,100},{401392,209},{564401,80},{527351,21},{768394,180},{366256,500},{23182,362},{200987,504},{62795,204},{171794,504},{941728,44},{711564,255},{935247,31},{370448,220},{420782,569},{330334,468},{889260,0},{242061,561},{82050,722},{971924,10},{334779,299},{592586,379},{362297,33},{980456,4},{112110,155},{776180,12},{293026,665},{834946,4},{315644,268},{712376,181},{874974,108},{891466,90},{426555,224},{536873,444},{790563,9},{936585,61},{230151,54},{252481,130},{110911,329},{440376,69},{68399,607},{79690,35},{16228,590},{614946,26},{837209,9},{928291,13},{210525,31},{416758,61},{475789,211},{633766,192},{987799,2},{744477,240},{88582,56},{822254,104},{63046,701},{123090,156},{838287,46},{497683,352},{529462,339},{313522,408},{970780,21},{6484,962},{952861,45},{134463,442},{644664,93},{786252,172},{252833,0},{858053,61},{184492,772},{527645,140},{959639,18},{325554,283},{936271,66},{765871,198},{755148,151},{303818,403},{480129,223},{846894,64},{321825,588},{839366,23},{742780,245},{819353,23},{674446,194},{478979,229},{612959,331},{442043,318},{61770,576},{17638,493},{84148,747},{783348,151},{680297,92},{261451,653},{18202,673},{736906,1},{62382,811},{735047,54},{789835,191},{843428,5},{747036,22},{984200,8},{875109,79},{237575,652},{982346,19},{73990,81},{598388,202},{310992,642},{276174,502},{771206,128},{262432,405},{470641,92},{323221,492},{525347,441},{140186,385},{234956,458},{324635,477},{517553,391},{153954,538},{660703,241},{389304,559},{223956,192},{229157,713},{671759,314},{511414,87},{241302,246},{696634,33},{537736,80},{990260,2},{544070,396},{307071,66},{207428,215},{473950,17},{633726,231},{420005,450},{43633,872},{802159,172},{244564,145},{172326,697},{377259,227},{410399,257},{480709,256},{713458,274},{743294,67},{298129,256},{964125,12},{159651,212},{217043,202},{477949,349},{608944,41},{985588,5},{391879,582},{305250,75},{654945,336},{62638,926},{300131,346},{34589,435},{798817,148},{577216,290},{638589,73},{384795,27},{632904,208},{493503,455},{349542,641},{899551,10},{992200,3},{412082,76},{175617,760},{506457,454},{671754,279},{2780,493},{340947,204},{366796,505},{53428,388},{695171,171},{390769,70},{21018,517},{146790,61},{874211,50},{467324,155},{167744,504},{377601,82},{75704,173},{997111,5},{558628,71},{713846,76},{853489,74},{604139,330},{732493,179},{367563,54},{69027,601},{910435,15},{533764,411},{638893,277},{812661,172},{56618,569},{432483,399},{654461,186},{365760,243},{177440,459},{713256,75},{282619,623},{363193,387},{785506,86},{79269,533},{253491,378},{777724,39},{938445,52},{488613,487},{48626,760},{120160,750},{9428,688},{398337,504},{221117,20},{593630,17},{810012,76},{882271,35},{760186,182},{172784,470},{321676,448},{913064,49},{566124,367},{315329,167},{510827,410},{28215,565},{189141,313},{64472,121},{955432,42},{765135,130},{60014,655},{174967,755},{907571,91},{449294,365},{854042,69},{857344,37},{164556,232},{826264,14},{646711,324},{249809,602},{895841,47},{351142,558},{51878,795},{184096,386},{775927,186},{544874,336},{824071,42},{747294,90},{969710,22},{599300,336},{317824,344},{451352,420},{634295,67},{288709,433},{997946,1},{62718,152},{564350,255},{572996,22},{67850,857},{534702,251},{253510,197},{677717,324},{193485,322},{479885,146},{900658,35},{505904,159},{411310,233},{827549,9},{950880,23},{46355,589},{37126,365},{486052,461},{703183,262},{873513,32},{46647,578},{794114,9},{507986,275},{206657,292},{637651,86},{10946,335},{40403,736},{492631,77},{561859,255},{874951,36},{418557,481},{454328,192},{868264,69},{540637,152},{835412,56},{875057,37},{701101,240},{200848,311},{499950,198},{722835,132},{503766,40},{803069,27},{740259,196},{503157,437},{741187,47},{599174,200},{365914,266},{615055,150},{930959,38},{952847,24},{181467,111},{78408,212},{907854,10},{999960,0},{391568,380},{977805,9},{830430,146},{707329,284},{782912,173},{279136,188},{154589,338},{349144,155},{53842,245},{803669,19},{215463,454},{412034,70},{611410,136},{611886,213},{679781,33},{983804,14},{28861,53},{121288,568},{449638,510},{963290,37},{786386,140},{203107,108},{962507,27},{462029,318},{336718,237},{617546,264},{457716,405},{804735,125},{733606,234},{84506,696},{278674,20},{297508,207},{186306,626},{183458,344},{943880,16},{311796,97},{877140,111},{106892,146},{760029,37},{992300,4},{114447,35},{812754,154},{631809,325},{757446,174},{243428,82},{547042,183},{126901,224},{859963,10},{161631,835},{841549,55},{784284,114},{130772,527},{774186,86},{232676,29},{197086,271},{142496,231},{274723,141},{152167,754},{304435,380},{705710,37},{784416,14},{265587,640},{231109,682},{30096,168},{592203,326},{633623,313},{678155,72},{645107,164},{82014,132},{988865,6},{575986,369},{770136,4},{413008,7},{935695,10},{198530,237},{503441,229},{881423,36},{62251,188},{660056,140},{334107,211},{326644,194},{624031,230},{997811,2},{446286,165},{341138,448},{187500,483},{895504,74},{988751,6},{296984,61},{802345,68},{197235,59},{299958,479},{452470,338},{684367,100},{824656,116},{53542,256},{120688,583},{152986,9},{264286,347},{615859,105},{112644,598},{802942,101},{778693,4},{605807,146},{610720,264},{585770,409},{800870,139},{112711,107},{279192,415},{766839,2},{199093,189},{248263,320},{258726,133},{990816,8},{238858,225},{709878,30},{686227,42},{547889,76},{435776,49},{554421,137},{476175,169},{595513,333},{15033,708},{360161,331},{608488,207},{667123,117},{707775,30},{931765,44},{42772,315},{155594,254},{418325,113},{630960,25},{28380,827},{939443,7},{46007,312},{58106,319},{967037,24},{764303,172},{537967,66},{200707,739},{564030,316},{67697,5},{757669,215},{762327,192},{967137,15},{886384,6},{744777,234},{232173,685},{833023,80},{261902,646},{700573,65},{465626,178},{559277,27},{845289,75},{27572,261},{297893,529},{473495,77},{895038,7},{116035,441},{353825,327},{268824,544},{800096,145},{450052,36},{482362,52},{918107,47},{14057,745},{693059,199},{635767,4},{633400,333},{33882,214},{892936,99},{964680,32},{727208,14},{854097,96},{424260,242},{484169,21},{648609,331},{328242,446},{569078,157},{82199,905},{997813,3},{709433,38},{159161,196},{220360,677},{51571,864},{529848,276},{879552,86},{735328,112},{134495,655},{842053,41},{359216,275},{704485,152},{471744,498},{989944,12},{320763,324},{858988,76},{586442,313},{9719,22},{201114,368},{795367,5},{641238,31},{633179,124},{938157,54},{524763,199},{939013,4},{794536,0},{753319,101},{443370,163},{930122,46},{446676,318},{288549,555},{528560,382},{426701,244},{661736,38},{386989,313},{580744,223},{469976,357},{838155,146},{830643,74},{966848,21},{949730,15},{473287,505},{43860,211},{964522,25},{535680,221},{724902,238},{643253,105},{31502,77},{726230,181},{765595,29},{457257,295},{26234,755},{529490,42},{499281,207},{424758,181},{214337,691},{496414,343},{968158,31},{608253,227},{343702,491},{209439,478},{695777,262},{163925,488},{438146,386},{213486,9},{513990,409},{537283,181},{911786,22},{321335,512},{401433,40},{209118,334},{771801,32},{821955,37},{940042,42},{35368,692},{686974,20},{776790,206},{690626,63},{803193,29},{241306,506},{548226,281},{191794,743},{780768,44},{125315,430},{153579,97},{703447,75},{121924,367},{154931,39},{125972,320},{175739,578},{787096,7},{960250,37},{4513,171},{253215,728},{342203,640},{673949,88},{299067,156},{555567,4},{742850,146},{834853,68},{704412,257},{104896,261},{413640,149},{628447,27},{511154,410},{71161,38},{313970,356},{279876,60},{196342,681},{363558,84},{327630,249},{211926,86},{692331,183},{430207,176},{177290,193},{61048,770},{854683,57},{327934,26},{71125,816},{459970,230},{496746,147},{565483,376},{314462,242},{775275,52},{951318,20},{253681,182},{514995,211},{18184,381},{765404,157},{626771,359},{80532,601},{853939,108},{834684,11},{600361,309},{610417,291},{690958,42},{575260,311},{551514,156},{710555,66},{652302,43},{551394,84},{235104,175},{726095,13},{554595,251},{703163,234},{443203,161},{813159,126},{471704,450},{321698,424},{15469,630},{833555,39},{901004,72},{869388,39},{869906,69},{182313,140},{386251,146},{500113,268},{496619,290},{531187,302},{597698,124},{481135,24},{59619,573},{387570,6},{883852,30},{779927,28},{805545,92},{431554,235},{171894,399},{416032,473},{203630,707},{196008,149},{907231,40},{43682,63},{256709,434},{704485,101},{46387,692},{266994,626},{220239,514},{216249,103},{72999,4},{425913,446},{594861,147},{957436,43},{715235,65},{6071,507},{293554,596},{876229,62},{64835,98},{241042,351},{836299,81},{432110,307},{680589,26},{703868,172},{572601,96},{258803,157},{359554,448},{949164,10},{670806,69},{831160,112},{413069,34},{480878,165},{53150,333},{678241,135},{29501,335},{908766,65},{111544,462},{114526,702},{204105,99},{699356,166},{561149,303},{935500,72},{870037,3},{67660,895},{163042,337},{84821,853},{343444,255},{251761,348},{930242,37},{989693,14},{450857,101},{886978,94},{891254,85},{948088,54},{486946,284},{140492,658},{481123,36},{707074,249},{318023,445},{698078,115},{537541,288},{827834,33},{788777,85},{664872,203},{563181,287},{636010,301},{272784,155},{162069,289},{527998,225},{328364,126},{953877,24},{586311,324},{996966,0},{489210,162},{258051,490},{785752,103},{392187,479},{788924,110},{30386,711},{116632,116},{295657,411},{317458,468},{155066,819},{106687,852},{804712,22},{511625,31},{552368,410},{857366,17},{977904,19},{468232,312},{205946,676},{394080,307},{138264,365},{550658,139},{807124,169},{728802,13},{482649,345},{774565,26},{869451,64},{28656,507},{419962,313},{644696,302},{29729,292},{581324,343},{564037,386},{283858,538},{785900,11},{419117,430},{452111,234},{127682,161},{835733,19},{690868,309},{83598,492},{157265,110},{33621,699},{762508,151},{671564,161},{382211,391},{393799,49},{513271,299},{659818,267},{357055,291},{160450,88},{534319,132},{358641,319},{510539,45},{922596,41},{459967,350},{411556,209},{498187,502},{409560,148},{757408,163},{404628,46},{976257,3},{488339,388},{820659,19},{420959,428},{512505,103},{19540,26},{655804,120},{217934,600},{1642,623},{469147,492},{871043,79},{259617,349},{720737,112},{598623,155},{487534,448},{934303,41},{869528,68},{286229,54},{376850,382},{334055,474},{286977,85},{224149,667},{624893,149},{770711,107},{933007,9},{399826,127},{347194,58},{104524,411},{405247,594},{220435,14},{999213,1},{123786,768},{747319,144},{744777,186},{565744,154},{395738,115},{243658,674},{849492,91},{520631,16},{833102,82},{992893,5},{252277,625},{268428,700},{972417,15},{337363,631},{352949,46},{361246,256},{394660,575},{186733,215},{48401,55},{295539,402},{155027,822},{942709,35},{199267,486},{945229,56},{88109,379},{734017,266},{728279,258},{951142,4},{919358,50},{500838,256},{190528,68},{726503,269},{164626,570},{570124,406},{749339,222},{461929,470},{69410,226},{418417,429},{403454,327},{161002,427},{506853,51},{793078,128},{502308,161},{491186,318},{735668,179},{552958,438},{797756,98},{638368,320},{378337,302},{150212,21},{450127,1},{1379,525},{946550,23},{599372,260},{1842,716},{557302,335},{159999,386},{535326,209},{999242,0},{257692,582},{217177,483},{63328,635},{915875,43},{122431,821},{450250,285},{787582,117},{657902,117},{545290,95},{910875,18},{374729,202},{34225,811},{101662,153},{376250,377},{411305,257},{494151,439},{180237,374},{510062,331},{178440,679},{716509,190},{478661,435},{727699,47},{248617,364},{967523,25},{251327,679},{794893,178},{591440,255},{936636,60},{939255,58},{8430,149},{543363,374},{833934,5},{62934,927},{758863,54},{553902,406},{562275,390},{541320,22},{728906,134},{128825,332},{756387,168},{882584,87},{211983,281},{658082,166},{661448,296},{946632,26},{861120,48},{244856,127},{312851,25},{543483,211},{29448,245},{108003,572},{335526,425},{270210,140},{349476,649},{345764,552},{616554,53},{454833,185},{387964,432},{664225,159},{823381,56},{295407,105},{865573,114},{528784,209},{238502,49},{374759,55},{336688,35},{420424,345},{582315,281},{124046,774},{992210,5},{125413,523},{506748,383},{296358,273},{319300,490},{236448,461},{339680,389},{187937,589},{842292,129},{258962,729},{676898,220},{728258,71},{769257,162},{682775,232},{87195,163},{573790,91},{736335,40},{144369,544},{946277,0},{668784,156},{516898,447},{52176,855},{735658,180},{833661,131},{382700,60},{708313,43},{545820,259},{781272,125},{871000,36},{108342,745},{591002,324},{61648,213},{864840,17},{483316,2},{642738,183},{896499,37}};
		//cout<<"people:"<<people<<endl;
		//vector<vector<int>> answer = {{5,0}, {7,0}, {5,2}, {6,1}, {4,4}, {7,1}};
		auto real_answer = Solution().reconstructQueue(people);
		//cout<<"Answers:"<<endl<<real_answer<<endl<<answer<<endl<<endl;
		//cout<<"people_after:"<<people<<endl;
		//ASSERT_EQUAL(real_answer, answer);
	}
	
	cout<<endl<<"TESTS OK!"<<endl;
	
	return 0;
}

/*
Queue Reconstruction by Height

Suppose you have a random list of people standing in a queue. Each person is described by a pair of integers (h, k),
where h is the height of the person and k is the number of people in front of this person who have a height greater
than or equal to h. Write an algorithm to reconstruct the queue.
Note:
The number of people is less than 1,100.

Example
Input:
{{7,0}, {4,4}, {7,1}, {5,0}, {6,1}, {5,2}}
Output:
{{5,0}, {7,0}, {5,2}, {6,1}, {4,4}, {7,1}}
*/